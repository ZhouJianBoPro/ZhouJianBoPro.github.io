---
layout: post
title: 上下文切换
date: 2021-06-01
tags: [并发编程]
---

##### 进程

- 进程是指在系统中运行的一个应用程序
- 每个进程之间互不干扰，比如运行中的两辆火车，其中一辆出问题不会影响另外一辆
- 进程之间不能共享资源

##### 线程

- 线程是作为独立个体调度的，跟创建它的进程没有关系

- 线程是进程执行的基本单元，一个进程可以包含一个或多个线程 
- 一辆火车(进程)中有多节车厢(线程)，如果其中一节车厢崩溃将影响整列火车
- 线程之间可以共享资源
- 多线程从宏观上看是多个线程同时执行任务，微观上其实是cpu通过时间片算法来循环执行任务，因为时间片很短，让我们感觉是多个线程同时执行的

##### 时间片

- 时间片是cpu分配给每个线程的时间段，该时间片通常很短，在几十毫秒
- 任一时刻只能有一个线程获取cpu的控制权，时间片执行完将会释放cpu控制权，供其他线程获取
- 多线程在切换时间片时让更多的线程拥有获取cpu控制权的几率

##### 上线文切换

- cpu在执行完一个时间片后或时间片内任务已执行完会切换到下个任务
- 任务切换前会保存该任务的状态，下次切换到该任务时可以再次加载该任务
- 任务状态的保存至下个任务的加载是一次上下文的切换